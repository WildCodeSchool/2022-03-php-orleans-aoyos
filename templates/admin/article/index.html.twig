{% extends 'admin/admin_base.html.twig' %}

{% block title %}
	{{ parent() }}
	- Articles
{% endblock %}

{% block content %}
	<main class="container">
		<h1 class="my-5">Articles</h1>

		<div class="d-flex justify-content-end">
			<a class="btn btn-outline-dark px-3 me-2" href="{{ path('admin_article_new') }}">
				<i class="bi bi-plus-square"></i>
				Ajouter</a>
		</div>

		<table class="table table-hover">
			<thead>
				<tr>
					<th>Titre</th>
					<th>Créé le</th>
					<th>Description</th>
					<th>Auteur</th>
					<th></th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				{% for article in articles %}
					<tr>
						<td class="align-middle">{{ article.title }}</td>
						<td class="align-middle">{{ article.createdAt|date('d-m-Y') }}</td>
						<td class="align-middle">{{ article.description |u.truncate(20, '...', false) }}</td>
						<td class="align-middle">{{ article.author }}</td>
						<td class="align-middle text-end">
							<a class="btn btn-outline-dark btn-sm text-nowrap px-3 my-2" href="{{ path('admin_article_edit', {'id': article.id}) }}">
								<i class="bi bi-pen"></i>
								Éditer</a>
								</td>
								<td class="align-middle text-end">
							{{ include('admin/article/_delete_form.html.twig') }}
						</td>
					</tr>
				{% else %}
					<tr>
						<td colspan="6">Aucun article trouvé</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>

	</main>
{% endblock %}
